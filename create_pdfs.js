import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';
import PDFDocument from 'pdfkit';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const fontPath = path.join(__dirname, 'Roboto-Regular.ttf');

const laws = [
  {
    name: 'law410.pdf',
    title: 'Постановление Правительства РФ № 410',
    text: `ПРАВИТЕЛЬСТВО РОССИЙСКОЙ ФЕДЕРАЦИИ
ПОСТАНОВЛЕНИЕ от 14 мая 2013 г. N 410
О МЕРАХ ПО ОБЕСПЕЧЕНИЮ БЕЗОПАСНОСТИ ПРИ ИСПОЛЬЗОВАНИИ И СОДЕРЖАНИИ ВНУТРИДОМОВОГО И ВНУТРИКВАРТИРНОГО ГАЗОВОГО ОБОРУДОВАНИЯ

Правительство Российской Федерации постановляет:
1. Утвердить прилагаемые:
Правила пользования газом в части обеспечения безопасности при использовании и содержании внутридомового и внутриквартирного газового оборудования при предоставлении коммунальной услуги по газоснабжению;
изменения, которые вносятся в акты Правительства Российской Федерации по вопросам обеспечения безопасности при использовании и содержании внутридомового и внутриквартирного газового оборудования.

2. Министерству регионального развития Российской Федерации:
привести акты, принятые во исполнение пункта 4 постановления Правительства Российской Федерации от 21 июля 2008 г. N 549 "О порядке поставки газа для обеспечения коммунально-бытовых нужд граждан", в соответствие с настоящим постановлением;
по согласованию с Министерством энергетики Российской Федерации утвердить в течение 6 месяцев инструкцию по безопасному использованию газа при удовлетворении коммунально-бытовых нужд.

3. Федеральной службе по тарифам:
а) утвердить методические рекомендации о правилах расчета стоимости технического обслуживания и ремонта внутридомового и внутриквартирного газового оборудования;
б) представить в течение 3 месяцев в Правительство Российской Федерации проект акта о внесении изменений в Основные положения формирования и государственного регулирования цен на газ и тарифов на услуги по его транспортировке на территории Российской Федерации.

(Полный текст документа доступен в официальных источниках)`
  },
  {
    name: 'law798.pdf',
    title: 'Постановление Правительства РФ № 798',
    text: `ПРАВИТЕЛЬСТВО РОССИЙСКОЙ ФЕДЕРАЦИИ
ПОСТАНОВЛЕНИЕ от 30 мая 2025 г. N 798
ОБ УТВЕРЖДЕНИИ ПРАВИЛ ПОЛЬЗОВАНИЯ ГАЗОМ В ЧАСТИ ОБЕСПЕЧЕНИЯ БЕЗОПАСНОСТИ ПРИ ПРОЕКТИРОВАНИИ, СТРОИТЕЛЬСТВЕ, РЕКОНСТРУКЦИИ, МОДЕРНИЗАЦИИ И ЭКСПЛУАТАЦИИ ГАЗОИСПОЛЬЗУЮЩЕГО ОБОРУДОВАНИЯ

В соответствии со статьей 8 Федерального закона "О газоснабжении в Российской Федерации" Правительство Российской Федерации постановляет:

1. Утвердить прилагаемые Правила пользования газом в части обеспечения безопасности при проектировании, строительстве, реконструкции, модернизации и эксплуатации газоиспользующего оборудования.

2. Признать утратившими силу:
постановление Правительства Российской Федерации от 17 мая 2002 г. N 317 "Об утверждении Правил пользования газом и предоставления услуг по газоснабжению в Российской Федерации";
пункт 2 изменений, которые вносятся в акты Правительства Российской Федерации по вопросам газоснабжения, утвержденных постановлением Правительства Российской Федерации от 8 августа 2013 г. N 679.

3. Настоящее постановление вступает в силу с 1 сентября 2025 г.
4. Правила, утвержденные настоящим постановлением, действуют в течение 6 лет со дня вступления в силу настоящего постановления.

(Полный текст документа доступен в официальных источниках)`
  },
  {
    name: 'law624.pdf',
    title: 'Приказ Минрегиона РФ № 624',
    text: `Список видов работ в сфере строительства, проектирования и инженерных изысканий
Список, утвержденный приказом № 624 от 30 декабря 2009 г. Министерства регионального развития Российской Федерации с изменениями, внесенными приказом № 294 от 23 июня 2010 г.

Перечень видов работ в строительстве, требующие наличие допуска СРО:

1. Геодезические работы, выполняемые на строительных площадках
1. Разбивочные работы в процессе строительства
2. Геодезический контроль точности геометрических параметров зданий и сооружений

2. Подготовительные работы
1. Разборка (демонтаж) зданий и сооружений, стен, перекрытий, лестничных маршей и иных конструктивных и связанных с ними элементов или их частей
2. Строительство временных: дорог; площадок; инженерных сетей и сооружений

15. Устройство внутренних инженерных систем и оборудования зданий и сооружений
1. Устройство и демонтаж системы водопровода и канализации
2. Устройство и демонтаж системы отопления
3. Устройство и демонтаж системы газоснабжения
4. Устройство и демонтаж системы вентиляции и кондиционирования воздуха

19. Устройство наружных сетей газоснабжения, кроме магистральных
1. Прокладка газопроводов с рабочим давлением до 0,005 МПа включительно
2. Прокладка газопроводов с рабочим давлением от 0,005 МПа до 0,3 МПа включительно
3. Укладка газопроводов с рабочим давлением от 0,3 МПа до 1,2 МПа включительно

(Полный текст документа доступен в официальных источниках)`
  },
  {
    name: 'law384.pdf',
    title: 'Федеральный закон № 384-ФЗ',
    text: `РОССИЙСКАЯ ФЕДЕРАЦИЯ
ФЕДЕРАЛЬНЫЙ ЗАКОН
ТЕХНИЧЕСКИЙ РЕГЛАМЕНТ О БЕЗОПАСНОСТИ ЗДАНИЙ И СООРУЖЕНИЙ
30 декабря 2009 г. N 384-ФЗ

Глава 1. Общие положения
Статья 1. Цели принятия настоящего Федерального закона
Настоящий Федеральный закон принимается в целях:
1) защиты жизни и здоровья граждан, имущества физических или юридических лиц, государственного или муниципального имущества;
2) охраны окружающей среды, жизни и здоровья животных и растений;
3) предупреждения действий, вводящих в заблуждение приобретателей;
4) обеспечения энергетической эффективности зданий и сооружений.

Статья 7. Требования механической безопасности
Строительные конструкции и основание здания или сооружения должны обладать такой прочностью и устойчивостью, чтобы в процессе строительства и эксплуатации не возникало угрозы причинения вреда жизни или здоровью людей, имуществу физических или юридических лиц.

Статья 8. Требования пожарной безопасности
Пожарная безопасность зданий и сооружений обеспечивается в соответствии с требованиями Федерального закона от 22 июля 2008 года N 123-ФЗ "Технический регламент о требованиях пожарной безопасности".

(Полный текст документа доступен в официальных источниках)`
  }
];

laws.forEach(law => {
  const doc = new PDFDocument();
  const outPath = path.join(__dirname, 'public', law.name);
  doc.pipe(fs.createWriteStream(outPath));
  
  doc.font(fontPath)
     .fontSize(16)
     .text(law.title, { align: 'center' })
     .moveDown()
     .fontSize(12)
     .text(law.text, { align: 'left' });
     
  doc.end();
  console.log(`Created ${law.name}`);
});
